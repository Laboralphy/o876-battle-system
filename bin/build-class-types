#!/bin/bash

source "$(dirname "$0")/make-json"

listAllClassTypes () {
  local MODULES
  MODULES=$(ls -1 ./src/modules)
  for m in $MODULES
  do
    if [ -d "./src/modules/$m/data/class-types" ]
    then
      for ct in $(ls -1 "./src/modules/$m/data/class-types")
      do
        echo ${ct%.json} | tr '[a-z]' '[A-Z]' | tr '-' '_'
      done
    fi
  done
}

echo -n "building class types... "
makeJSON listAllClassTypes > ./src/consts/class-types.json
echo done