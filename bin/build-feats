#!/bin/bash

source "$(dirname "$0")/make-json"

listAllFeats () {
  local MODULES
  MODULES=$(ls -1 ./src/modules)
  for m in $MODULES
  do
    if [ -d "./src/modules/$m/data/feats" ]
    then
      for ct in $(ls -1 "./src/modules/$m/data/feats")
      do
        echo ${ct%.json} | tr '[a-z]' '[A-Z]' | tr '-' '_'
      done
    fi
  done
}

echo -n "building feats... "
makeJSON listAllFeats > ./src/consts/feats.json
echo done