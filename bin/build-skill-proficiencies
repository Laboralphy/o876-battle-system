#!/bin/bash

source "$(dirname "$0")/make-json"

listAllSkillProficiencies () {
  local MODULES
  MODULES=$(ls -1 ./src/modules)
  node ./bin/generate-proficiency-consts ./src/data/skills.json
  for m in $MODULES
  do
    if [ -f "./src/modules/$m/data/skills.json" ]
    then
      node ./bin/generate-proficiency-consts "./src/modules/$m/data/skills.json"
    fi
  done
}

echo -n "building skill proficiencies... "
makeJSON listAllSkillProficiencies > ./src/consts/skill-proficiencies.json
echo done
